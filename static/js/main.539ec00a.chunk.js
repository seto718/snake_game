(this.webpackJsonpsnake_game=this.webpackJsonpsnake_game||[]).push([[0],{19:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),i=n(10),s=n.n(i),o=(n(19),function(t,e){for(var n=function(){var n=Math.floor(Math.random()*(t-1-1))+1,a=Math.floor(Math.random()*(t-1-1))+1;if(!e.some((function(t){return t.x===n&&t.y===a})))return{v:{x:n,y:a}}};;){var a=n();if("object"===typeof a)return a.v}}),r=function(t){return{x:Math.floor(Math.random()*(t-1-1))+1,y:Math.floor(Math.random()*(t-1-1))+1}},l=function(t,e){for(var n=[],a=0;a<t;a++){var c=new Array(t).fill("");n.push(c)}n[e.y][e.x]="snake";var i=o(t,[e]);return n[i.y][i.x]="food",n},u=n(12),b=n.p+"static/media/grume.fca7230a.mp3",d=n.p+"static/media/retoro.6524bdeb.mp3",j=n.p+"static/media/gameover.f15b9471.mp3",f=r(35),p=l(35,f),m=[1e3,500,100,50,10],g=new u.Howl({src:j,loop:!0,volume:.6,sprite:{beginning:[0,3e4]}}),O=g.play("beginning");g.stop(O);var h=new u.Howl({src:b,loop:!0,volume:.4,sprite:{between:[0,7e4]}}),x=h.play("between");h.stop(x);var v=new u.Howl({src:d,loop:!1,volume:.4}),y=v.play();v.stop(y);var N=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),k=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),C=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),w=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),S=Object.freeze({37:k.left,38:k.up,39:k.right,40:k.down}),_=Object.freeze({on:"on",off:"off"}),L=n(0),z=function(t){var e=t.length,n=t.difficulty,a=void 0===n?3:n,c=t.onChangeDifficulty,i=a<m.length?"":"is-hidden",s=a>1?"":"is-hidden";return Object(L.jsxs)("div",{className:"navigation",children:[Object(L.jsxs)("div",{className:"navigation-item",children:[Object(L.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(L.jsx)("div",{className:"navigation-item-number-container",children:Object(L.jsx)("div",{className:"num-board",children:e})})]}),Object(L.jsxs)("div",{className:"navigation-item",children:[Object(L.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(L.jsxs)("div",{className:"navigation-item-number-container",children:[Object(L.jsx)("span",{className:"num-board",children:a}),Object(L.jsxs)("div",{className:"difficulty-button-container",children:[Object(L.jsx)("div",{className:"difficulty-button difficulty-up ".concat(i),onClick:function(){return c(a+1)}}),Object(L.jsx)("div",{className:"difficulty-button difficulty-down ".concat(s),onClick:function(){return c(a-1)}})]})]})]})]})},I=function(t){var e=t.fields;return Object(L.jsx)("div",{className:"field",children:e.map((function(t){return t.map((function(t,e){return Object(L.jsx)("div",{className:"dots ".concat(t)},e)}))}))})},M=function(t){var e=t.status,n=t.onStart,a=t.onStop,c=t.onRestart;return Object(L.jsxs)("div",{className:"button",children:[e===N.gameover&&Object(L.jsx)("button",{className:"btn btn-gameover",onClick:c,children:"gameover"}),e===N.playing&&Object(L.jsx)("button",{className:"btn btn-playing",onClick:a,children:"stop"}),e===N.init&&Object(L.jsx)("button",{className:"btn btn-init",onClick:n,children:"start"}),e===N.suspended&&Object(L.jsx)("button",{className:"btn btn-suspended",onClick:n,children:"start"})]})},D=n(4),E=n(3),F=function(t){var e=t.onChange;return Object(L.jsxs)("div",{className:"manipulation-panel",children:[Object(L.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return e(k.left)},children:Object(L.jsx)(D.a,{icon:E.d})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return e(k.up)},children:Object(L.jsx)(D.a,{icon:E.f})}),Object(L.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return e(k.down)},children:Object(L.jsx)(D.a,{icon:E.c})})]}),Object(L.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return e(k.right)},children:Object(L.jsx)(D.a,{icon:E.e})})]})},H=function(t){var e=t.soundstatus,n=t.onChange,a=t.id1,c=t.id2,i="on"===e?E.i:E.h,s="on"===e?"music-btn btn sound-btn":"music-btn-mute btn sound-btn";return Object(L.jsx)("button",{className:s,onClick:function(){return n(e,a,c)},children:Object(L.jsx)(D.a,{icon:i})})},A=n(14),B=n(5),J=void 0,P=function(){J&&clearInterval(J)},R=function(){var t=Object(a.useState)(p),e=Object(B.a)(t,2),n=e[0],c=e[1],i=Object(a.useState)([]),s=Object(B.a)(i,2),u=s[0],b=s[1],d=Object(a.useState)(N.init),j=Object(B.a)(d,2),L=j[0],z=j[1],I=Object(a.useState)(0),M=Object(B.a)(I,2),D=M[0],E=M[1],F=Object(a.useState)(k.up),H=Object(B.a)(F,2),R=H[0],T=H[1],G=Object(a.useState)(3),q=Object(B.a)(G,2),K=q[0],Q=q[1],U=Object(a.useState)(f),V=Object(B.a)(U,2),W=V[0],X=V[1],Y=Object(a.useState)("on"),Z=Object(B.a)(Y,2),$=Z[0],tt=Z[1],et=Object(a.useState)(0),nt=Object(B.a)(et,2),at=nt[0],ct=nt[1],it=Object(a.useState)(""),st=Object(B.a)(it,2),ot=st[0],rt=st[1];Object(a.useEffect)((function(){return L===N.init?(b([W]),J=setInterval((function(){E((function(t){return t+1}))}),m[K-1]),P):L===N.suspended?(J=setInterval((function(){E((function(t){return t+1}))}),m[K-1]),P):void 0}),[K],L,W),Object(a.useEffect)((function(){if(0!==!u.length&&L===N.playing&&!lt()){P(),$!==_.off&&(v.play(y),1==h.playing(x)&&h.stop(x),g.play(O)),z(N.gameover);ct(u.length>60?4:u.length<=60&&u.length>40?3:u.length<=40&&u.length>20?2:u.length<=20&&u.length>=1?1:0),rt(0)}}),[D]);var lt=function(){var t=u[0],e=t.x,a=t.y,i=w[R],s={x:e+i.x,y:a+i.y};if(function(t,e){return e.y<0||e.x<0||e.y>t-1||e.x>t-1}(n.length,s)||function(t,e){return"snake"===t[e.y][e.x]}(n,s))return P(),!1;var r=Object(A.a)(u);if("food"!==n[s.y][s.x]){var l=r.pop();n[l.y][l.x]=""}else{var d=o(n.length,[].concat(Object(A.a)(r),[s]));n[d.y][d.x]="food"}return n[s.y][s.x]="snake",r.unshift(s),b(r),c(n),!0},ut=Object(a.useCallback)((function(t){return L!==N.playing||"up"===C[R]&&"down"===t||"down"===C[R]&&"up"===t||"left"===C[R]&&"right"===t||"right"===C[R]&&"left"===t?R:void(C[R]!==t&&T(t))}),[R,L]),bt=Object(a.useCallback)((function(t){if(L===N.suspended){if(t<1||t>t.length)return;Q(t)}L===N.init&&(t<1||t>t.length||Q(t))}),[L,K]);Object(a.useEffect)((function(){var t=function(t){var e=S[t.keyCode];e&&ut(e)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[ut]);var dt=Object(a.useCallback)((function(t,e,n){if(t===_.on){if(t=_.off,tt(t),h.playing(n))return h.stop(n);if(g.playing(e))return g.stop(e)}else{if(t=_.on,tt(t),!1===h.playing(n)&&L!==N.gameover)return h.play(n);if(!1===g.playing(e))return g.play(e)}}),[$]),jt=Object(a.useCallback)((function(t){if(0!==at)return 1,rt(1),g.stop(O),1}),[at]);return{body:u,difficulty:K,fields:n,status:L,start:function(){z(N.playing),$!==_.off&&!1===h.playing(x)&&h.play(x)},stop:function(){z(N.suspended)},reload:function(){J=setInterval((function(){E((function(t){return t+1}))}),100),z(N.init);var t=r(n.length);X(t),T(k.up),c(l(n.length,t)),b([t]),Q(3),g.stop(O)},updateDirection:ut,updateDifficulty:bt,soundstatus:$,changeSoundStatus:dt,id1:O,id2:x,gameoverstatus:at,close_popup2:jt,imgstatus:ot}},T=n.p+"static/media/exp1.13620d33.jpg",G=n.p+"static/media/exp2.5062c8f9.jpg",q=n(6),K=T,Q={display:"block"},U=function(){var t=function(){return K===T?(K=G,Object(L.jsx)(q.LazyLoadImage,{src:K})):(K=T,Object(L.jsx)(q.LazyLoadImage,{src:K}))};return Object(L.jsxs)("div",{className:"popup_image",style:Q,children:[Object(L.jsx)(q.LazyLoadImage,{src:K,className:"exp_imgs"}),K===T?Object(L.jsxs)("p",{className:"text-box",children:["\u3084\u3042\uff01\u30b9\u30cd\u30fc\u30af\u30b2\u30fc\u30e0\u306b\u3088\u3046\u3053\u305d\uff01",Object(L.jsx)("br",{}),"\u3053\u306e\u30b2\u30fc\u30e0\u306f\u307c\u304f\u3092\u98df\u3079\u7269\u306e\u3068\u3053\u308d\u306b\u9023\u308c\u3066\u884c\u3063\u3066\u5927\u304d\u304f\u3057\u3066\u3044\u304f\u30b2\u30fc\u30e0\u3060\u3088\u3002",Object(L.jsx)("br",{}),"\u6ca2\u5c71\u98df\u3079\u3066\u5927\u304d\u304f\u3057\u3066\u306d\uff01",Object(L.jsx)("br",{}),"\u77e2\u5370\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30b2\u30fc\u30e0\u8aac\u660e\u3092\u8aad\u3093\u3067\u306d"]}):K===G?Object(L.jsxs)("p",{className:"text-box2",children:["Start\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3089\u767d\u3044\u30c9\u30c3\u30c8\u304c\u52d5\u304d\u51fa\u3059\u3088\u3002",Object(L.jsx)("br",{}),"\u77e2\u5370\u30ad\u30fc\u3067\u64cd\u4f5c\u3057\u3066\u30d4\u30f3\u30af\u306e\u30a8\u30b5\u307e\u3067\u9023\u308c\u3066\u884c\u3053\u3046\uff01",Object(L.jsx)("br",{}),"\u53f3\u4e0a\u306e\u96e3\u6613\u5ea6\u306b\u3088\u3063\u3066\u3078\u3073\u306e\u901f\u3055\u304c\u5909\u308f\u308b\u3088\u3002",Object(L.jsx)("br",{}),"\u3078\u3073\u3092\u3088\u308a\u9577\u304f\u51fa\u6765\u308b\u3088\u3046\u306b\u9811\u5f35\u3063\u3066\u306d\uff01"]}):void 0,Object(L.jsx)(D.a,{icon:E.g,className:"close_icon",onClick:function(){Q={display:"none"}}}),K===T?Object(L.jsx)(D.a,{icon:E.b,className:"arrow_icon",onClick:t}):Object(L.jsx)(D.a,{icon:E.a,className:"arrow_icon arrow_icon_left",onClick:t})]})},V=n.p+"static/media/gameover1.0cbdf882.jpg",W=n.p+"static/media/gameover2.8a0b590d.jpg",X=n.p+"static/media/gameover3.38425739.jpg",Y=n.p+"static/media/gameover4.3b645634.jpg",Z="",$={display:"none"},tt=function(t){var e=t.gameoverstatus,n=t.status,a=t.close_popup2,c=t.imgstatus;n===N.gameover?(Z=1===e?V:2===e?W:3===e?X:4===e?Y:"",$={display:"block"}):$={display:"none"};1===c&&($={display:"none"});return Object(L.jsxs)("div",{className:"popup_image2 pop_opacity",style:$,children:[Object(L.jsx)(q.LazyLoadImage,{src:Z,className:"exp_imgs"}),Object(L.jsx)(D.a,{icon:E.g,className:"close_icon",onClick:function(){return a(c)}})]})};var et=function(){var t=R(),e=t.body,n=t.difficulty,a=t.fields,c=t.start,i=t.stop,s=t.reload,o=t.status,r=t.updateDirection,l=t.updateDifficulty,u=t.soundstatus,b=t.changeSoundStatus,d=t.id1,j=t.id2,f=t.gameoverstatus,p=t.close_popup2,m=t.imgstatus;return Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(tt,{gameoverstatus:f,status:o,close_popup2:p,imgstatus:m}),Object(L.jsx)(U,{}),Object(L.jsxs)("header",{className:"header",children:[Object(L.jsxs)("div",{className:"title-container",children:[Object(L.jsx)("h1",{className:"title",children:"Snake Game"}),Object(L.jsx)(H,{soundstatus:u,onChange:b,id1:d,id2:j})]}),Object(L.jsx)(z,{length:e.length,difficulty:n,onChangeDifficulty:l})]}),Object(L.jsx)("main",{className:"main",children:Object(L.jsx)(I,{fields:a})}),Object(L.jsxs)("footer",{className:"footer",children:[Object(L.jsx)(M,{status:o,onStop:i,onStart:c,onRestart:s}),Object(L.jsx)(F,{onChange:r})]})]})},nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),i(t),s(t)}))};s.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(et,{})}),document.getElementById("root")),nt()}},[[26,1,2]]]);
//# sourceMappingURL=main.539ec00a.chunk.js.map