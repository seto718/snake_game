(this.webpackJsonpsnake_game=this.webpackJsonpsnake_game||[]).push([[0],{17:function(t,n,e){},24:function(t,n,e){"use strict";e.r(n);var c=e(2),i=e.n(c),a=e(12),r=e.n(a),s=(e(17),e(11)),o=e(3),u=e(0),l=function(t){var n=t.length,e=t.difficulty,c=t.onChangeDifficulty,i=e<5?"":"is-hidden",a=e>1?"":"is-hidden";return Object(u.jsxs)("div",{className:"navigation",children:[Object(u.jsxs)("div",{className:"navigation-item",children:[Object(u.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(u.jsx)("div",{className:"navigation-item-number-container",children:Object(u.jsx)("div",{className:"num-board",children:n})})]}),Object(u.jsxs)("div",{className:"navigation-item",children:[Object(u.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(u.jsxs)("div",{className:"navigation-item-number-container",children:[Object(u.jsx)("span",{className:"num-board",children:e}),Object(u.jsxs)("div",{className:"difficulty-button-container",children:[Object(u.jsx)("div",{className:"difficulty-button difficulty-up ".concat(i),onClick:function(){return c(e+1)}}),Object(u.jsx)("div",{className:"difficulty-button difficulty-down ".concat(a),onClick:function(){return c(e-1)}})]})]})]})]})},b=function(t){var n=t.fields;return Object(u.jsx)("div",{className:"field",children:n.map((function(t){return t.map((function(t,n){return Object(u.jsx)("div",{className:"dots ".concat(t)},n)}))}))})},d=function(t){var n=t.status,e=t.onStart,c=t.onStop,i=t.onRestart;return Object(u.jsxs)("div",{className:"button",children:["gameover"===n&&Object(u.jsx)("button",{className:"btn btn-gameover",onClick:i,children:"gameover"}),"playing"===n&&Object(u.jsx)("button",{className:"btn btn-playing",onClick:c,children:"stop"}),"init"===n&&Object(u.jsx)("button",{className:"btn btn-init",onClick:e,children:"start"}),"suspended"===n&&Object(u.jsx)("button",{className:"btn btn-suspended",onClick:e,children:"start"})]})},j=e(5),f=e(7),h=function(t){var n=t.onChange;return Object(u.jsxs)("div",{className:"manipulation-panel",children:[Object(u.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return n("left")},children:Object(u.jsx)(j.a,{icon:f.b})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return n("up")},children:Object(u.jsx)(j.a,{icon:f.d})}),Object(u.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return n("down")},children:Object(u.jsx)(j.a,{icon:f.a})})]}),Object(u.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return n("right")},children:Object(u.jsx)(j.a,{icon:f.c})})]})},O=function(t,n){for(var e=function(){var e=Math.floor(Math.random()*(t-1-1))+1,c=Math.floor(Math.random()*(t-1-1))+1;if(!n.some((function(t){return t.x===e&&t.y===c})))return{v:{x:e,y:c}}};;){var c=e();if("object"===typeof c)return c.v}},m=function(t){return{x:Math.floor(Math.random()*(t-1-1))+1,y:Math.floor(Math.random()*(t-1-1))+1}},v=function(t,n){for(var e=[],c=0;c<t;c++){var i=new Array(t).fill("");e.push(i)}e[n.y][n.x]="snake";var a=O(t,[n]);return e[a.y][a.x]="food",e},x=m(35),g=v(35,x),p=[1e3,500,100,50,10],y=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),N=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),k=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),C=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),w=Object.freeze({37:N.left,38:N.up,39:N.right,40:N.down}),S=void 0,M=function(){S&&clearInterval(S)};var E=function(){var t=Object(c.useState)(g),n=Object(o.a)(t,2),e=n[0],i=n[1],a=Object(c.useState)([]),r=Object(o.a)(a,2),j=r[0],f=r[1],E=Object(c.useState)(y.init),I=Object(o.a)(E,2),z=I[0],L=I[1],D=Object(c.useState)(0),F=Object(o.a)(D,2),A=F[0],B=F[1],J=Object(c.useState)(N.up),P=Object(o.a)(J,2),R=P[0],T=P[1],_=Object(c.useState)(3),G=Object(o.a)(_,2),q=G[0],H=G[1],K=Object(c.useState)(x),Q=Object(o.a)(K,2),U=Q[0],V=Q[1];Object(c.useEffect)((function(){return z===y.init?(f([U]),S=setInterval((function(){B((function(t){return t+1}))}),p[q-1]),M):z===y.suspended?(S=setInterval((function(){B((function(t){return t+1}))}),p[q-1]),M):void 0}),[q],z,U),Object(c.useEffect)((function(){0!==!j.length&&z===y.playing&&(W()||(M(),L(y.gameover)))}),[A]);var W=function(){var t,n,c=j[0],a=c.x,r=c.y,o=C[R],u={x:a+o.x,y:r+o.y};if(t=e.length,(n=u).y<0||n.x<0||n.y>t-1||n.x>t-1||function(t,n){return"snake"===t[n.y][n.x]}(e,u))return M(),!1;var l=Object(s.a)(j);if("food"!==e[u.y][u.x]){var b=l.pop();e[b.y][b.x]=""}else{var d=O(e.length,[].concat(Object(s.a)(l),[u]));e[d.y][d.x]="food"}return e[u.y][u.x]="snake",l.unshift(u),f(l),i(e),!0},X=Object(c.useCallback)((function(t){return z!==y.playing||"up"===k[R]&&"down"===t||"down"===k[R]&&"up"===t||"left"===k[R]&&"right"===t||"right"===k[R]&&"left"===t?R:void(k[R]!==t&&T(t))}),[R,z]),Y=Object(c.useCallback)((function(t){if(z===y.suspended){if(t<1||t>t.length)return;H(t)}z===y.init&&(t<1||t>t.length||H(t))}),[z,q]);return Object(c.useEffect)((function(){var t=function(t){var n=w[t.keyCode];n&&X(n)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[X]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{className:"title-container",children:Object(u.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(u.jsx)(l,{length:j.length,difficulty:q,onChangeDifficulty:Y})]}),Object(u.jsx)("main",{className:"main",children:Object(u.jsx)(b,{fields:e})}),Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)(d,{status:z,onStop:function(){return L(y.suspended)},onStart:function(){return L(y.playing)},onRestart:function(){S=setInterval((function(){B((function(t){return t+1}))}),100),L(y.init);var t=m(e.length);V(t),T(N.up),i(v(e.length,t)),f([t]),H(3)}}),Object(u.jsx)(h,{onChange:X})]})]})},I=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,25)).then((function(n){var e=n.getCLS,c=n.getFID,i=n.getFCP,a=n.getLCP,r=n.getTTFB;e(t),c(t),i(t),a(t),r(t)}))};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root")),I()}},[[24,1,2]]]);
//# sourceMappingURL=main.44b6c612.chunk.js.map